#include <iostream>
#include <string>
#include <map>

int main() {
    std::map<int, std::string> queue;
    std::map<int, std::string>::iterator cursor;
    std::string surname;
    int key = 0;

    std::cout << "When the person arrives at the queue, "
                 "write down their last name. To call enter 'Next'. To exit enter 'exit'" << std::endl;
    do {
        std::cout << "<-";
        std::cin >> surname;

        if (surname == "Next") {
            int i = queue.begin()->first;
            char min_char = queue.begin()->second[0];
            for(cursor = queue.begin(); cursor != queue.end(); cursor++)
            {
                if(min_char > cursor->second[0])
                {
                    min_char = cursor->second[0];
                    i = cursor->first;
                }
            }
            std::cout << "->" + queue[i] << std::endl;
            cursor = queue.find(i);
            queue.erase(cursor);
        } else {
            std::pair<int, std::string> person(key++, surname);
            queue.insert(person);
        }
    }while(surname != "exit");

    return 0;
}
