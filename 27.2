#include <iostream>

enum COLORS
{
    RED = 1 << 0,
    BLUE = 1 << 1,
    GREEN = 1 << 2,
    NONE = 1 << 3
};

class G_Figure
{
public:
    double center[2]{0};
    int color = 0;

    void getColor() const
    {
        if(RED & (1 << color)) std::cout << "Color: Red." << std::endl;
        else if(BLUE & (1 << color)) std::cout << "Color: Blue." << std::endl;
        else if(GREEN & (1 << color)) std::cout << "Color: Green." << std::endl;
        else if(NONE & (1 << color)) std::cout << "Color: None." << std::endl;
    }
};

class Circle : public G_Figure
{
    double r{0};

public:

    void get_area() const
    {
        std::cout << "Area of circle: " << r * r * 3.14f;
        std::cout << std::endl;
    }

    void get_rectangle() const
    {
        std::cout << "Area of rectangle: " << (2.0f * r + 0.1f) * (2.0f * r + 0.1f)<< std::endl;
        std::cout << "Length: " << 2.0f * r + 0.1f << std::endl << "Width: " << 2.0f * r + 0.1f << std::endl;
        std::cout << "Coordinates of the corners of the rectangle:" <<std::endl;
        std::cout << "UL:" << center[0] - r - 0.1f << " " << center[1] + r + 0.1f << std::endl;
        std::cout << "UR:" << center[0] + r + 0.1f << " " << center[1] + r + 0.1f << std::endl;
        std::cout << "DL:" << center[0] - r - 0.1f << " " << center[1] - r - 0.1f << std::endl;
        std::cout << "DR:" << center[0] + r + 0.1f << " " << center[1] - r - 0.1f << std::endl;
    }

    Circle(double& rd, double& x, double& y, int& color) : r(rd)
    {
        center[0] = x;
        center[1] = y;
        this->color = color;
    }

    ~Circle() = default;
};

class Square : public G_Figure
{
    double e{0};

public:

    void get_area() const
    {
        std::cout << "Area of square: " << e * e << std::endl;
    }

    void get_rectangle() const
    {
        std::cout << "Area of rectangle: " << (e + 0.1f) * (e + 0.1f)<< std::endl;
        std::cout << "Length: " << (e + 0.1f) << std::endl << "Width: " << (e + 0.1f) << std::endl;
        std::cout << "UL:" << center[0] - e/2 - 0.1f << " " << center[1] + e/2 + 0.1f << std::endl;
        std::cout << "UR:" << center[0] + e/2 + 0.1f << " " << center[1] + e/2 + 0.1f << std::endl;
        std::cout << "DL:" << center[0] - e/2 - 0.1f << " " << center[1] - e/2 - 0.1f << std::endl;
        std::cout << "DR:" << center[0] + e/2 + 0.1f << " " << center[1] - e/2 - 0.1f << std::endl;

    }

    Square(double& rd, double& x, double& y, int& color) : e(rd)
    {
        center[0] = x;
        center[1] = y;
        this->color = color;
    }

    ~Square() = default;
};

class Triangle : public G_Figure
{
    double h{};

public:

    void get_area() const
    {
        std::cout << "Area of triangle: " << (h * h) / sqrt(3) << std::endl;
    }

    void get_rectangle() const
    {
        std::cout << "Area of rectangle: " << (h + 0.1f) * (h + 0.1f)<< std::endl;
        std::cout << "Length: " << (h + 0.1f) << std::endl
                  << "Width: " << (2 * ((h * h) / sqrt(3)) / h) + 0.1f << std::endl;
        double base{(2 * ((h * h) / sqrt(3)) / h)};
        std::cout << "UL:" << center[0] - base/2 - 0.1f << " " << center[1] + h/2 + 0.1f << std::endl;
        std::cout << "UR:" << center[0] + base/2 + 0.1f << " " << center[1] + h/2 + 0.1f << std::endl;
        std::cout << "DL:" << center[0] - base/2 - 0.1f << " " << center[1] - h/2 - 0.1f << std::endl;
        std::cout << "DR:" << center[0] + base/2 + 0.1f << " " << center[1] - h/2 - 0.1f << std::endl;
    }

    Triangle(double& rd, double& x, double& y, int& color) : h(rd)
    {
        center[0] = x;
        center[1] = y;
        this->color = color;
    }

    ~Triangle() = default;

};

class Rectangle : public G_Figure
{
    double a{};
    double b{};

public:

    void get_area() const
    {
        std::cout << "Area of rectangle: " << a * b << std::endl;
    }


    void get_rectangle() const
    {
        std::cout << "Area of rectangle: " << (a + 0.1f) * (b + 0.1f)<< std::endl;
        std::cout << "Length: " << (a + 0.1f) << std::endl << "Width: " << (b + 0.1f) << std::endl;
        std::cout << "UL:" << center[0] - b/2 - 0.1f << " " << center[1] + a/2 + 0.1f << std::endl;
        std::cout << "UR:" << center[0] + b/2 + 0.1f << " " << center[1] + a/2 + 0.1f << std::endl;
        std::cout << "DL:" << center[0] - b/2 - 0.1f << " " << center[1] - a/2 - 0.1f << std::endl;
        std::cout << "DR:" << center[0] + b/2 + 0.1f << " " << center[1] - a/2 - 0.1f << std::endl;
    }

    Rectangle(double& rd, double& r1, double& x, double& y, int& color) : a(rd), b(r1)
    {
        center[0] = x;
        center[1] = y;
        this->color = color;
    }

    ~Rectangle() = default;

};

void input(double& x, double& y, int& color)
{
    std::cout << "Enter coordinates of centre:" << std::endl;
    std::cin >> x >> y;
    std::cout << "Enter color(0-red, 1-blue, 2-green, 3-none): ";
    std::cin >> color;
}

int main() {
    std::string command;

    do {
        int color{};
        double r{}, x{}, y{}, r1{};
        std::cout << "Enter command(circle, square, triangle, rectangle or exit):" <<std::endl;
        std::cin >> command;

        if(command == "circle") {
            std::cout << "Enter radius: ";
            std::cin >> r;
            input(x, y, color);

            Circle circle(r, x, y, color);
            circle.get_area();
            circle.getColor();
            circle.get_rectangle();
        }
        else if(command == "square")
        {
            std::cout << "Enter length of edge: ";
            std::cin >> r;
            input(x, y, color);

            Square square(r, x, y, color);
            square.get_area();
            square.getColor();
            square.get_rectangle();
        }
        else if(command == "triangle")
        {
            std::cout << "Enter height of triangle: ";
            std::cin >> r;
            input(x, y, color);

            Triangle triangle(r, x, y, color);
            triangle.get_area();
            triangle.getColor();
            triangle.get_rectangle();
        }
        else if(command == "rectangle")
        {
            std::cout << "Enter height and width of rectangle: ";
            std::cin >> r >> r1;
            input(x, y, color);

            Rectangle rectangle(r, r1, x, y, color);
            rectangle.get_area();
            rectangle.getColor();
            rectangle.get_rectangle();
        }
    }while(command != "exit");

    return 0;
}
