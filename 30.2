#include <iostream>
#include <cpr/cpr.h>

std::string getHeader(cpr::Response &res, std::string &head){
    for(int i{}; i < res.text.size(); i++){
        if(res.text[i] == '<' && res.text[i + 1] == 'h' && res.text[i + 2] == '1' && res.text[i + 3] == '>'){
            for(int j{i + 4}; j < res.text.size(); j++){
                if(res.text[j] == '<' && res.text[j + 1] == '/' && res.text[j + 2] == 'h' && res.text[j + 3] == '1' &&
                res.text[j + 4] == '>') return head;
                else head += res.text[j];
            }
        }
    }
    return head = "Header not found!";
}
int main() {
    cpr::Response res = cpr::Get(cpr::Url("http://httpbin.org/html"),
                                 cpr::Header({{"accept", "text/html"}}));
    std::string head{};
    getHeader(res, head);
    std::cout << "Header: " <<  head << std::endl;
    return 0;
}
